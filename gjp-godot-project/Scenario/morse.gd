extends Label

func _ready() -> void:
	text = to_morse(text)

func to_morse(t: String) -> String:
	var morse_map = {
		"A": ".-",    "B": "-...",  "C": "-.-.",  "D": "-..",
		"E": ".",     "F": "..-.",  "G": "--.",   "H": "....",
		"I": "..",    "J": ".---",  "K": "-.-",   "L": ".-..",
		"M": "--",    "N": "-.",    "O": "---",   "P": ".--.",
		"Q": "--.-",  "R": ".-.",   "S": "...",   "T": "-",
		"U": "..-",   "V": "...-",  "W": ".--",   "X": "-..-",
		"Y": "-.--",  "Z": "--..",
		"0": "-----", "1": ".----", "2": "..---", "3": "...--",
		"4": "....-", "5": ".....", "6": "-....", "7": "--...",
		"8": "---..", "9": "----.",
		".": ".-.-.-", ",": "--..--", "?": "..--..", "'": ".----.",
		"!": "-.-.--", "/": "-..-.", "(": "-.--.",  ")": "-.--.-",
		"&": ".-...",  ":": "---...", ";": "-.-.-.", "=": "-...-",
		"+": ".-.-.",  "-": "-....-", "_": "..--.-", "\"": ".-..-.",
		"$": "...-..-", "@": ".--.-.", " ": "/"  # slash represents word gap
	}
	
	var result = []
	for c in t.to_upper():
		if morse_map.has(c):
			result.append(morse_map[c])
	# join symbols with spaces between letters
	return " ".join(result)
